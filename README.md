# GitHub Repo Batch Deleter

一个基于浏览器、本地运行的 **GitHub 仓库批量删除工具**。  
只需一个 HTML 文件即可使用，无需安装任何依赖或后端服务。

> ⚠️ **高风险操作提示**  
> 本工具可以批量删除 GitHub 仓库，删除操作不可恢复。  
> 请务必先在测试账号或无关仓库上演练，确认行为符合预期后再对重要账号使用。

---

## 功能特性

- 使用 **HTML5 + CSS3 + 原生 JavaScript** 实现，纯前端、零依赖
- 支持通过 **GitHub Personal Access Token (PAT)** 认证
- 自动获取当前用户的所有仓库列表
- 展示仓库名称、可见性、创建时间、最后更新时间等信息
- 支持按页浏览仓库列表（默认每页 20 个）
- 为每个仓库提供复选框选择，支持“当前页全选/反选”
- 支持 **批量删除选中仓库**，带进度显示与结果统计
- 具有 **二次确认机制**：
  - 再次输入 PAT
  - 输入大写 `DELETE`
- 提供操作日志，记录加载、删除、错误等过程（仅保存在本地）
- 根据 GitHub API 速率限制头信息，接近限额时给出提示
- 针对网络错误、权限错误等提供友好提示，并支持失败项重试

---

## 文件结构

仓库核心只有一个前端文件：

- `github-batch-delete.html`：主页面与全部逻辑（UI + JS）

你只需要把这个文件放在本地任意目录，用浏览器打开即可使用。

---

## 使用前准备

1. **GitHub 账号**
   - 确保你对要删除的仓库拥有管理员权限（或拥有删除权限）

2. **生成 Personal Access Token (classic)**

   在 GitHub 中：

   1. 打开 `Settings` → `Developer settings` → `Personal access tokens` → `Tokens (classic)`
   2. 点击 **Generate new token (classic)**
   3. 填写一个描述（例如：`github-repo-batch-deleter`）
   4. 设置过期时间（建议 7 或 30 天，不要永久）
   5. 在 **Scopes** 中至少勾选：
      - `delete_repo`
   6. 为了减少奇怪的权限问题，建议一并勾选：
      - `repo`
   7. 生成后 **复制好 Token**（只会显示这一次）

> ✅ 这个 Token 只用于调用 GitHub 官方 API，不需要提供给任何第三方服务器。  
> 本工具所有操作均在浏览器本地完成。

---

## 使用步骤

1. 将仓库克隆到本地，或直接下载 `github-batch-delete.html` 文件。

2. 用浏览器打开该文件：
   - 双击打开，或拖到浏览器窗口中。
   - 支持 Chrome / Firefox / Edge 等现代浏览器。

3. 在页面顶部的认证区域填写：
   - **GitHub 用户名**：你的 GitHub 登录名（例如 `octocat`）
   - **个人访问令牌（PAT）**：上一步生成的 Token 字符串

4. 点击 **「加载仓库」**：
   - 若认证成功，会显示当前用户信息
   - 仓库列表区域显示你的所有仓库，并分页展示

5. 选择要删除的仓库：
   - 在列表中勾选对应仓库前的复选框
   - 或使用表头的 **全选/反选** 复选框对当前页进行全选/取消

6. 点击 **「删除选中仓库」**：
   - 弹出确认对话框，展示待删除数量和部分仓库名
   - 再次输入 PAT（必须与当前使用的一致）
   - 在文本框中输入大写 **`DELETE`**

7. 确认删除：
   - 点击确认后，脚本会按顺序删除选中仓库
   - 下方日志区域会显示删除进度与结果
   - 完成后会统计成功/失败数量
   - 对于删除失败的仓库，可以使用“重试失败项”再次尝试（仍需通过二次确认）

---

## 安全说明

- 所有请求都通过 **`https://api.github.com`** 发出（HTTPS）
- 认证信息（PAT）仅保存在当前浏览器页面的内存中：
  - 不会写入日志内容
  - 不会上传到任何第三方服务器
- 删除操作前要求：
  - 再次输入 PAT
  - 输入大写 `DELETE`
- 操作日志仅用于帮助你排查问题，不包含 Token 等敏感信息

> 建议使用 **临时 Token** 或 **权限最小化 Token**，使用完毕后在 GitHub 设置中手动删除该 Token。

---

## 错误处理与重试

- **网络错误**：会在页面和日志中提示“加载失败”或“删除失败”，你可以检查网络后重新加载或重试。
- **权限不足（401 / 403）**：
  - 检查 Token 是否过期、是否勾选了 `delete_repo` 和 `repo`
  - 检查你是否对该仓库有删除权限
- **部分仓库删除失败**：
  - 失败的仓库会被记录
  - 可以点击“重试失败项”按钮，再次走一遍确认流程，对失败仓库进行重试

---

## 注意事项与限制

- 目前脚本默认基于 **Personal Access Token (classic)** 实现：
  - 如需切换为 Fine‑grained PAT，需要重新设计权限与 API 访问策略
- 删除仓库为不可逆操作：
  - 没有回收站或“撤销删除”
  - 请确保已备份重要仓库或已确认不再需要
- 如果你的仓库非常多，首次加载可能需要一段时间（脚本会按页从 API 拉取所有仓库，并在日志中显示进度）

---

## 免责声明

本工具仅供学习研究和个人自动化管理使用。  
使用本工具造成的任何数据丢失、账号问题或其他损失，均由使用者自行承担。

---
